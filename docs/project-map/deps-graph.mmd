graph TD
  app["app.py facade"]
  application["application"]
  domain["domain"]
  storage["storage"]
  integrations["integrations"]
  ui["ui"]
  core["core/config"]
  app --> application
  app --> core
  app --> domain
  app --> integrations
  app --> storage
  application --> application
  application --> core
  application --> domain
  application --> integrations
  application --> storage
  application --> ui
  core --> app
  core --> core
  domain --> domain
  integrations --> integrations
  storage --> core
  storage --> domain
  storage --> storage
  ui --> core
  ui --> domain
  ui --> storage
  ui --> ui

%% Module-level edges (trimmed to internal package only)
graph LR
  app["app"] --> kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"]
  app["app"] --> kokoro_tts_application_context["kokoro_tts.application.context"]
  app["app"] --> kokoro_tts_application_history_service["kokoro_tts.application.history_service"]
  app["app"] --> kokoro_tts_application_local_api["kokoro_tts.application.local_api"]
  app["app"] --> kokoro_tts_application_state["kokoro_tts.application.state"]
  app["app"] --> kokoro_tts_application_ui_hooks["kokoro_tts.application.ui_hooks"]
  app["app"] --> kokoro_tts_config["kokoro_tts.config"]
  app["app"] --> kokoro_tts_constants["kokoro_tts.constants"]
  app["app"] --> kokoro_tts_domain_expressions["kokoro_tts.domain.expressions"]
  app["app"] --> kokoro_tts_domain_normalization["kokoro_tts.domain.normalization"]
  app["app"] --> kokoro_tts_domain_splitting["kokoro_tts.domain.splitting"]
  app["app"] --> kokoro_tts_domain_text_utils["kokoro_tts.domain.text_utils"]
  app["app"] --> kokoro_tts_domain_voice["kokoro_tts.domain.voice"]
  app["app"] --> kokoro_tts_integrations_ffmpeg["kokoro_tts.integrations.ffmpeg"]
  app["app"] --> kokoro_tts_integrations_model_manager["kokoro_tts.integrations.model_manager"]
  app["app"] --> kokoro_tts_integrations_spaces_gpu["kokoro_tts.integrations.spaces_gpu"]
  app["app"] --> kokoro_tts_logging_config["kokoro_tts.logging_config"]
  app["app"] --> kokoro_tts_storage_audio_writer["kokoro_tts.storage.audio_writer"]
  app["app"] --> kokoro_tts_storage_history_repository["kokoro_tts.storage.history_repository"]
  app["app"] --> kokoro_tts_storage_morphology_repository["kokoro_tts.storage.morphology_repository"]
  app["app"] --> kokoro_tts_storage_pronunciation_repository["kokoro_tts.storage.pronunciation_repository"]
  kokoro_tts_application["kokoro_tts.application"] --> kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"]
  kokoro_tts_application["kokoro_tts.application"] --> kokoro_tts_application_context["kokoro_tts.application.context"]
  kokoro_tts_application["kokoro_tts.application"] --> kokoro_tts_application_history_service["kokoro_tts.application.history_service"]
  kokoro_tts_application["kokoro_tts.application"] --> kokoro_tts_application_local_api["kokoro_tts.application.local_api"]
  kokoro_tts_application["kokoro_tts.application"] --> kokoro_tts_application_morphology_projection["kokoro_tts.application.morphology_projection"]
  kokoro_tts_application["kokoro_tts.application"] --> kokoro_tts_application_ports["kokoro_tts.application.ports"]
  kokoro_tts_application["kokoro_tts.application"] --> kokoro_tts_application_state["kokoro_tts.application.state"]
  kokoro_tts_application["kokoro_tts.application"] --> kokoro_tts_application_ui_hooks["kokoro_tts.application.ui_hooks"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_application_history_service["kokoro_tts.application.history_service"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_application_state["kokoro_tts.application.state"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_application_ui_hooks["kokoro_tts.application.ui_hooks"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_config["kokoro_tts.config"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_constants["kokoro_tts.constants"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_domain_audio_postfx["kokoro_tts.domain.audio_postfx"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_domain_expressions["kokoro_tts.domain.expressions"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_domain_normalization["kokoro_tts.domain.normalization"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_integrations_model_manager["kokoro_tts.integrations.model_manager"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_integrations_spaces_gpu["kokoro_tts.integrations.spaces_gpu"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_storage_audio_writer["kokoro_tts.storage.audio_writer"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_storage_history_repository["kokoro_tts.storage.history_repository"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_storage_morphology_repository["kokoro_tts.storage.morphology_repository"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_storage_pronunciation_repository["kokoro_tts.storage.pronunciation_repository"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_ui_desktop_types["kokoro_tts.ui.desktop_types"]
  kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"] --> kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"]
  kokoro_tts_application_context["kokoro_tts.application.context"] --> kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"]
  kokoro_tts_application_context["kokoro_tts.application.context"] --> kokoro_tts_application_ports["kokoro_tts.application.ports"]
  kokoro_tts_application_context["kokoro_tts.application.context"] --> kokoro_tts_config["kokoro_tts.config"]
  kokoro_tts_application_history_service["kokoro_tts.application.history_service"] --> kokoro_tts_application_state["kokoro_tts.application.state"]
  kokoro_tts_application_history_service["kokoro_tts.application.history_service"] --> kokoro_tts_storage_history_repository["kokoro_tts.storage.history_repository"]
  kokoro_tts_application_local_api["kokoro_tts.application.local_api"] --> kokoro_tts_application_ports["kokoro_tts.application.ports"]
  kokoro_tts_application_local_api["kokoro_tts.application.local_api"] --> kokoro_tts_domain_voice["kokoro_tts.domain.voice"]
  kokoro_tts_application_morphology_projection["kokoro_tts.application.morphology_projection"] --> kokoro_tts_storage_morphology_projection["kokoro_tts.storage.morphology_projection"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_application_ui_hooks["kokoro_tts.application.ui_hooks"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_constants["kokoro_tts.constants"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_domain_audio_postfx["kokoro_tts.domain.audio_postfx"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_domain_normalization["kokoro_tts.domain.normalization"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_domain_splitting["kokoro_tts.domain.splitting"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_domain_style["kokoro_tts.domain.style"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_domain_voice["kokoro_tts.domain.voice"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_integrations_model_manager["kokoro_tts.integrations.model_manager"]
  kokoro_tts_application_state["kokoro_tts.application.state"] --> kokoro_tts_storage_audio_writer["kokoro_tts.storage.audio_writer"]
  kokoro_tts_config["kokoro_tts.config"] --> kokoro_tts_utils["kokoro_tts.utils"]
  kokoro_tts_domain["kokoro_tts.domain"] --> kokoro_tts_domain_expressions["kokoro_tts.domain.expressions"]
  kokoro_tts_domain["kokoro_tts.domain"] --> kokoro_tts_domain_morphology["kokoro_tts.domain.morphology"]
  kokoro_tts_domain["kokoro_tts.domain"] --> kokoro_tts_domain_normalization["kokoro_tts.domain.normalization"]
  kokoro_tts_domain["kokoro_tts.domain"] --> kokoro_tts_domain_splitting["kokoro_tts.domain.splitting"]
  kokoro_tts_domain["kokoro_tts.domain"] --> kokoro_tts_domain_style["kokoro_tts.domain.style"]
  kokoro_tts_domain["kokoro_tts.domain"] --> kokoro_tts_domain_voice["kokoro_tts.domain.voice"]
  kokoro_tts_domain_lexeme_checks["kokoro_tts.domain.lexeme_checks"] --> kokoro_tts_domain_morphology["kokoro_tts.domain.morphology"]
  kokoro_tts_domain_normalization["kokoro_tts.domain.normalization"] --> kokoro_tts_domain_text_utils["kokoro_tts.domain.text_utils"]
  kokoro_tts_domain_splitting["kokoro_tts.domain.splitting"] --> kokoro_tts_domain_text_utils["kokoro_tts.domain.text_utils"]
  kokoro_tts_domain_voice["kokoro_tts.domain.voice"] --> kokoro_tts_domain_style["kokoro_tts.domain.style"]
  kokoro_tts_integrations["kokoro_tts.integrations"] --> kokoro_tts_integrations_ffmpeg["kokoro_tts.integrations.ffmpeg"]
  kokoro_tts_integrations["kokoro_tts.integrations"] --> kokoro_tts_integrations_model_manager["kokoro_tts.integrations.model_manager"]
  kokoro_tts_integrations["kokoro_tts.integrations"] --> kokoro_tts_integrations_spaces_gpu["kokoro_tts.integrations.spaces_gpu"]
  kokoro_tts_integrations_spaces_gpu["kokoro_tts.integrations.spaces_gpu"] --> kokoro_tts_integrations_model_manager["kokoro_tts.integrations.model_manager"]
  kokoro_tts_logging_config["kokoro_tts.logging_config"] --> kokoro_tts_config["kokoro_tts.config"]
  kokoro_tts_main["kokoro_tts.main"] --> app["app"]
  kokoro_tts_storage["kokoro_tts.storage"] --> kokoro_tts_storage_audio_writer["kokoro_tts.storage.audio_writer"]
  kokoro_tts_storage["kokoro_tts.storage"] --> kokoro_tts_storage_history_repository["kokoro_tts.storage.history_repository"]
  kokoro_tts_storage["kokoro_tts.storage"] --> kokoro_tts_storage_morphology_projection["kokoro_tts.storage.morphology_projection"]
  kokoro_tts_storage["kokoro_tts.storage"] --> kokoro_tts_storage_morphology_repository["kokoro_tts.storage.morphology_repository"]
  kokoro_tts_storage["kokoro_tts.storage"] --> kokoro_tts_storage_pronunciation_repository["kokoro_tts.storage.pronunciation_repository"]
  kokoro_tts_storage_audio_writer["kokoro_tts.storage.audio_writer"] --> kokoro_tts_constants["kokoro_tts.constants"]
  kokoro_tts_storage_audio_writer["kokoro_tts.storage.audio_writer"] --> kokoro_tts_domain_audio_postfx["kokoro_tts.domain.audio_postfx"]
  kokoro_tts_storage_morphology_projection["kokoro_tts.storage.morphology_projection"] --> kokoro_tts_storage_morphology_repository["kokoro_tts.storage.morphology_repository"]
  kokoro_tts_storage_morphology_repository["kokoro_tts.storage.morphology_repository"] --> kokoro_tts_domain_expressions["kokoro_tts.domain.expressions"]
  kokoro_tts_storage_morphology_repository["kokoro_tts.storage.morphology_repository"] --> kokoro_tts_domain_morphology["kokoro_tts.domain.morphology"]
  kokoro_tts_storage_pronunciation_repository["kokoro_tts.storage.pronunciation_repository"] --> kokoro_tts_domain_voice["kokoro_tts.domain.voice"]
  kokoro_tts_ui["kokoro_tts.ui"] --> kokoro_tts_ui_common["kokoro_tts.ui.common"]
  kokoro_tts_ui["kokoro_tts.ui"] --> kokoro_tts_ui_desktop_types["kokoro_tts.ui.desktop_types"]
  kokoro_tts_ui["kokoro_tts.ui"] --> kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"]
  kokoro_tts_ui_common["kokoro_tts.ui.common"] --> kokoro_tts_domain_morphology_datasets["kokoro_tts.domain.morphology_datasets"]
  kokoro_tts_ui_features["kokoro_tts.ui.features"] --> kokoro_tts_ui_features_audio_backend["kokoro_tts.ui.features.audio_backend"]
  kokoro_tts_ui_features["kokoro_tts.ui.features"] --> kokoro_tts_ui_features_audio_player_feature["kokoro_tts.ui.features.audio_player_feature"]
  kokoro_tts_ui_features["kokoro_tts.ui.features"] --> kokoro_tts_ui_features_audio_player_runtime_state["kokoro_tts.ui.features.audio_player_runtime_state"]
  kokoro_tts_ui_features["kokoro_tts.ui.features"] --> kokoro_tts_ui_features_audio_player_state["kokoro_tts.ui.features.audio_player_state"]
  kokoro_tts_ui_features["kokoro_tts.ui.features"] --> kokoro_tts_ui_features_generate_tab_feature["kokoro_tts.ui.features.generate_tab_feature"]
  kokoro_tts_ui_features["kokoro_tts.ui.features"] --> kokoro_tts_ui_features_morphology_tab_feature["kokoro_tts.ui.features.morphology_tab_feature"]
  kokoro_tts_ui_features["kokoro_tts.ui.features"] --> kokoro_tts_ui_features_stream_tab_feature["kokoro_tts.ui.features.stream_tab_feature"]
  kokoro_tts_ui_features_audio_player_feature["kokoro_tts.ui.features.audio_player_feature"] --> kokoro_tts_ui_features_audio_backend["kokoro_tts.ui.features.audio_backend"]
  kokoro_tts_ui_features_audio_player_feature["kokoro_tts.ui.features.audio_player_feature"] --> kokoro_tts_ui_features_audio_player_state["kokoro_tts.ui.features.audio_player_state"]
  kokoro_tts_ui_features_generate_tab_feature["kokoro_tts.ui.features.generate_tab_feature"] --> kokoro_tts_domain_style["kokoro_tts.domain.style"]
  kokoro_tts_ui_features_morphology_tab_feature["kokoro_tts.ui.features.morphology_tab_feature"] --> kokoro_tts_ui_common["kokoro_tts.ui.common"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_config["kokoro_tts.config"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_constants["kokoro_tts.constants"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_domain_style["kokoro_tts.domain.style"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_domain_voice["kokoro_tts.domain.voice"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_storage_morphology_projection["kokoro_tts.storage.morphology_projection"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_ui_common["kokoro_tts.ui.common"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_ui_desktop_types["kokoro_tts.ui.desktop_types"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_ui_features_audio_backend["kokoro_tts.ui.features.audio_backend"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_ui_features_audio_player_feature["kokoro_tts.ui.features.audio_player_feature"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_ui_features_audio_player_runtime_state["kokoro_tts.ui.features.audio_player_runtime_state"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_ui_features_generate_tab_feature["kokoro_tts.ui.features.generate_tab_feature"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_ui_features_morphology_tab_feature["kokoro_tts.ui.features.morphology_tab_feature"]
  kokoro_tts_ui_tkinter_app["kokoro_tts.ui.tkinter_app"] --> kokoro_tts_ui_features_stream_tab_feature["kokoro_tts.ui.features.stream_tab_feature"]
  scripts_profile_tts_inference["scripts.profile_tts_inference"] --> app["app"]
  tests_app_test_app_entrypoints["tests.app.test_app_entrypoints"] --> app["app"]
  tests_app_test_app_interface_coverage["tests.app.test_app_interface_coverage"] --> app["app"]
  tests_app_test_app_runtime_branches["tests.app.test_app_runtime_branches"] --> app["app"]
  tests_app_test_app_runtime_branches["tests.app.test_app_runtime_branches"] --> kokoro_tts_application_bootstrap["kokoro_tts.application.bootstrap"]
  tests_app_test_app_runtime_branches["tests.app.test_app_runtime_branches"] --> kokoro_tts_config["kokoro_tts.config"]
  tests_app_test_app_runtime_branches["tests.app.test_app_runtime_branches"] --> kokoro_tts_integrations_ffmpeg["kokoro_tts.integrations.ffmpeg"]
  tests_app_test_app_runtime_branches["tests.app.test_app_runtime_branches"] --> kokoro_tts_logging_config["kokoro_tts.logging_config"]
  tests_contracts_test_public_contracts["tests.contracts.test_public_contracts"] --> app["app"]
  tests_domain_test_text_processing["tests.domain.test_text_processing"] --> app["app"]
  tests_ui_test_tkinter_ui_interactions["tests.ui.test_tkinter_ui_interactions"] --> kokoro_tts_ui_features_audio_player_feature["kokoro_tts.ui.features.audio_player_feature"]
